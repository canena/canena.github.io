<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <!-- [docs]
        Welcome to our not-so-fancy inline tutorial. If you read this it's probably
        safe to assume you are interested in such things so have fun following our
        thoughts. This is *just* a content page, for more information on the overall
        approach of the site visit /home.
    -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="author" content="Martin Feineis">
    <meta name="creator" content="Canena">
    <meta name="description" content="A blog about life">
    <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'sha256-YzxQZnYzEzF+cXKWurXLJQfpy1c+ScGqPeldlHJNbDk=' 'sha256-vvt4KWwuNr51XfE5m+hzeNEGhiOfZzG97ccfqGsPwvE='; style-src 'self' 'sha256-uD7ie2YbTG1HzuFUnelB4zEhDlR5sSiroNrWljEstxs='; connect-src 'self' https://api.github.com/repos/canena/canena.github.io/issues/19/comments ">
    <title>Alpine Elm Docker &bullet; CANENA</title>
    <script>
/*! hubjs stub */
(function(w,t){"use strict";function a(o,x){(o._||(o._=[])).push(x)}
function s(){return function f(){a(f,t.call(arguments))}}
w.Hub=w.Hub||{config:s(),log:s(),use:s()};}(self,[].slice))
    </script>
    <link href="/cdn/common.dev.css" rel="stylesheet" type="text/css">
    <script async type="module" src="/_includes/include.js"></script>
</head>
<body>
    <script defer src="/cdn/config.js"></script>
    <script defer type="module" src="/cdn/ca/requires.js"></script>
    <script defer type="module" src="/cdn/site.js"></script>

    <ca-requires elements="fx-toggle gh-comments logo-switcher reading-meta reading-progress scroll-behavior"></ca-requires>
    <ca-scroll-behavior></ca-scroll-behavior>

    <header {cover} class="bg-sky-400 h-golden">
        <nav>
            <a {box} href="/" title="Return to home page">
                <img logo class="invert" src="/cdn/canena.svg" width="95" height="30" alt="CANENA">
            </a>
        </nav>
        <div {center} {cover.art}>
            <div {box} class="backdrop-blur text-white">
                <h1 class="capitalize">Alpine Elm Docker</h1>
                <h2 class="capitalize italic">A Dockerfile for creating a minimal alpine docker image for your CI builds</h2>
                <div class="flex gap-2">
                    <p class="whitespace-nowrap">2018-09-09</p>
                    <ca-reading-meta class="italic"></ca-reading-meta>
                </div>
                <ul class="list-none flex gap-2">
                    <li><a class="tag" href="/tags#cicd">cicd</a></li>
                    <li><a class="tag" href="/tags#docker">docker</a></li>
                    <li><a class="tag" href="/tags#elm">elm</a></li>
                    <li><a class="tag" href="/tags#tech">tech</a></li>
                    <li><a class="tag" href="/tags#web">web</a></li>
                </ul>
            </div>
        </div>
    </header>

    <main>
        <div class="bg-gradient-subtle">
            <div {center} class="bg-default">
                <article {box}>

                    <p>A <a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener noreferrer">Dockerfile</a> for creating a minimal alpine docker image for your <a href="https://martinfowler.com/articles/continuousIntegration.html" target="_blank" rel="noopener noreferrer"><abbr title="Continuous Integration">CI</abbr> builds</a> I salvaged from a <a href="https://elmlang.slack.com/" target="_blank" rel="noopener noreferrer">Slack</a> conversation.</p>
<pre><code><span class="code:attr">FROM</span> <span class="code:string">alpine</span>
<span class="code:attr">RUN</span> <span class="code:string">apk add binutils \
  &amp;&amp; wget -qO - "https://github.com/elm/compiler/releases/download/0.19.0/binaries-for-linux.tar.gz" \
  | tar -zxC /usr/local/bin/ &amp;&amp; strip /usr/local/bin/elm &amp;&amp; apk del binutils</span>
</code></pre>
                    <p>This will result in a docker image that is roughly the size of the <a href="https://elm-lang.org" target="_blank" rel="noopener noreferrer">Elm</a> binaries we're packaging - about 40MB(!) as of the time of writing this.</p>
<pre><code>{ mind | <span class="code:keyword">state</span> = Blown }
</code></pre>

                </article>
            </div>

            <div {center} class="bg-default">
                <hr>
                <ca-gh-comments {box} issue="https://api.github.com/repos/canena/canena.github.io/issues/19">
                    <h4 comments-heading>Comments</h4>
                    <p>
                        The comments for this post are available on <a href="https://github.com/canena/canena.github.io/issues/19" target="_blank" rel="noopener noreferrer">this issue on GitHub</a>.
                        Feel free to engage in conversation over there.
                    </p>
                    <include-partial href="/_includes/comment-section.html"></include-partial>
                </ca-gh-comments>
            </div>

            <footer {center} {billboard}="dots" class="border-t">
                <nav class="px-2 pb-20">
                    <include-partial href="/_includes/footer-links.html"></include-partial>
                </nav>
            </footer>
        </div>
    </main>

    <nav class="floaty-nav | fixed bottom-0 w-full">
        <include-partial href="/_includes/floaty-nav-article.html"></include-partial>
        <include-partial href="/_includes/floaty-nav-body.html"></include-partial>
    </nav>

    <script defer src="/deps/hubjs/hub.dev.js"></script>
</body>
</html>
